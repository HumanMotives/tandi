<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>The Loop Grave</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <style>
    body {
      background-color: #f5f1e6;
      font-family: 'Georgia', serif;
      color: #333;
      max-width: 800px;
      margin: 4rem auto;
      padding: 0 1.5rem;
    }

    h1 {
      font-size: 2.5rem;
      margin-bottom: 0.5rem;
    }

    .intro {
      font-style: italic;
      color: #666;
      margin-bottom: 2rem;
    }

    hr {
      border: none;
      border-top: 1px solid #ccc;
      margin: 2rem 0;
    }

    .upload-box {
      border: 1px dashed #aaa;
      padding: 2rem;
      text-align: center;
      background-color: #fffefa;
      cursor: pointer;
      margin-bottom: 2rem;
    }

    .hidden { display: none; }

    .progress-bar {
      width: 100%;
      background-color: #e1ddd1;
      border: 1px solid #ccc;
      height: 20px;
      margin-top: 1rem;
    }

    .progress-fill {
      height: 100%;
      width: 0;
      background-color: #70695d;
      transition: width 5s linear;
    }

    .button {
      margin-top: 1.5rem;
      padding: 0.6rem 1.2rem;
      font-size: 1rem;
      border: none;
      background-color: #3a3a3a;
      color: #fff;
      cursor: pointer;
    }

    .link {
      display: block;
      margin-top: 1rem;
      text-align: center;
      color: #555;
      text-decoration: underline;
      cursor: pointer;
      font-size: 0.9rem;
    }

    .ceremony {
      margin-top: 2rem;
    }

    .tombstone {
      margin-top: 2rem;
      padding: 2rem;
      border: 2px solid #555;
      background-color: #f1f1ee;
      text-align: center;
      font-family: monospace;
      opacity: 0;
      transition: opacity 2s ease-in;
    }

    .tombstone.show {
      opacity: 1;
    }

    .graveyard {
      border-top: 1px solid #ccc;
      margin-top: 3rem;
      padding-top: 2rem;
    }

    .graveyard table {
      width: 100%;
      font-family: monospace;
      font-size: 0.95rem;
      border-collapse: collapse;
    }

    .graveyard th, .graveyard td {
      text-align: left;
      padding: 0.3rem 0.5rem;
      border-bottom: 1px solid #ddd;
    }

    .fade-in {
      animation: fadeIn 2s ease-in;
    }

    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    input[type="text"] {
      margin-top: 1rem;
      width: 100%;
      padding: 0.5rem;
      border: 1px solid #aaa;
      font-size: 1rem;
    }

    footer {
      text-align: center;
      font-size: 0.9rem;
      color: #666;
      margin-top: 4rem;
    }
  </style>
</head>
<body>

  <img src="datagrave_sitelogo.png" alt="The Loop Grave Logo" style="max-width: 100%; margin-bottom: 2rem;">

  <h1>The Loop Grave</h1>
  <p class="intro">Lay your unfinished track to rest. It served you well.</p>
  <hr>

  <div class="upload-box" id="uploadBox" onclick="fileInput.click()">
    Click or drag a file here to begin its final journey.<br>
    <small>(audio files only)</small>
    <input type="file" id="fileInput" class="hidden" accept="audio/*">
  </div>

  <div id="progressContainer" class="hidden">
    <p>Analyzing file...</p>
    <div class="progress-bar">
      <div class="progress-fill" id="analyzeFill"></div>
    </div>
  </div>

  <div id="readyToBury" class="hidden">
    <p id="sarcasticRemark"></p>
    <p><strong>‚ö∞Ô∏è <span id="fileName"></span></strong></p>
    <p><small>Created: <span id="fileDate"></span></small></p>
    <label for="epitaph">Epitaph:</label>
    <input type="text" id="epitaph" maxlength="100">
    <button class="button" onclick="buryFile()">Bury this File?</button>
    <div class="link" onclick="resetAll()">I've changed my mind</div>
  </div>

  <div id="burialProgress" class="hidden">
    <p>Burying loop...</p>
    <div class="progress-bar">
      <div class="progress-fill" id="buryFill"></div>
    </div>
  </div>

  <div id="ceremony" class="ceremony"></div>

  <div class="graveyard">
    <h3>ü™¶ Recently Buried</h3>
    <table>
      <thead><tr><th>Filename</th><th>Date of Burial</th></tr></thead>
      <tbody id="graveList"></tbody>
    </table>
  </div>

  <footer>
    <div class="donate-widget" style="margin-bottom:15px;">
      <script src="https://storage.ko-fi.com/cdn/widget/Widget_2.js"></script>
      <script>
        kofiwidget2.init('Support me on Ko-fi', '#242524', 'V7V01ICB2V');
        kofiwidget2.draw();
      </script>
    </div>
    Concept &amp; Design by Chris van der Linden. Licensed under
    <a href="https://creativecommons.org/licenses/by/4.0/" target="_blank">CC BY 4.0</a>.
  </footer>

</body>
</html>
